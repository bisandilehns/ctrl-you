<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Self Assessment Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --bg-color:#f8f5e9; --text-color:#2e3d32; --card-bg:#fff;
      --accent-color:#3f4e44; --secondary-color:#728c80; --highlight-color:#2e3d32;
    }
    body.dark {
      --bg-color:#000; --text-color:#fff; --card-bg:#1f3b2b;
      --accent-color:#1a291f; --secondary-color:#444; --highlight-color:#fff;
    }
    body { margin:0; font-family:Arial,sans-serif; background-color:var(--bg-color); color:var(--text-color); transition:0.3s; min-height:100vh; padding:20px; box-sizing:border-box; padding-bottom:80px; }
    .container { max-width:500px; margin:0 auto; padding:15px; }
    .header { display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; }
    .checkbox { opacity:0; position:absolute; }
    .checkbox-label { background:#111; width:50px; height:26px; border-radius:50px; position:relative; padding:5px; cursor:pointer; display:flex; justify-content:space-between; align-items:center; }
    .fa-moon{color:#f1c40f;font-size:0.8rem;}
    .fa-sun{color:#f39c12;font-size:0.8rem;}
    .checkbox-label .ball { background:#fff; width:18px; height:18px; position:absolute; left:2px; top:2px; border-radius:50%; transition:transform 0.2s linear; }
    .checkbox:checked + .checkbox-label .ball { transform:translateX(22px); }
    .quiz-card { background:var(--card-bg); padding:12px; margin-bottom:12px; border-radius:10px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    .quiz-card h2 { font-size:1.1rem; margin-bottom:8px; }
    .quiz-card input { margin-right:6px; }
    .submit-btn { background:var(--accent-color); color:#fff; padding:8px 12px; border:none; border-radius:5px; cursor:pointer; font-size:0.95rem; }
    .result-box { text-align:center; margin-top:15px; font-weight:bold; }
    .side-menu { position:fixed; top:0; left:-220px; width:220px; height:100%; background:#dedac9; box-shadow:2px 0 8px rgba(0,0,0,0.2); padding-top:50px; display:flex; flex-direction:column; gap:10px; transition:0.3s; z-index:150; }
    .side-menu a { padding:10px 15px; text-decoration:none; color:var(--text-color); font-size:0.9rem; }
    .side-menu a:hover { background:var(--accent-color); color:#fff; border-radius:4px; }
    .side-menu.open { left:0; }
    .bottom-nav { position:fixed; bottom:0; left:0; width:100%; background:#c9c9b0eb; border-top:1px solid var(--secondary-color); display:flex; justify-content:space-around; align-items:center; padding:6px 0; box-shadow:0 -2px 6px rgba(34,79,46,0.2); z-index:100; }
    .nav-item { text-align:center; text-decoration:none; color:var(--text-color); flex:1; }
    .nav-item img.nav-icon { width:24px; height:24px; display:block; margin:0 auto 4px; }
    .nav-item p { margin:0; font-size:0.65rem; }
    .hamburger { width:26px; height:22px; display:flex; justify-content:center; align-items:center; cursor:pointer; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="hamburger" id="hamburger"><img src="static/images/menu.png" alt="Menu" style="width:24px;height:24px;"></div>
      <div><input type="checkbox" class="checkbox" id="checkbox"><label for="checkbox" class="checkbox-label"><i class="fas fa-moon"></i><i class="fas fa-sun"></i><span class="ball"></span></label></div>
    </div>

    <div class="quiz-card">
      <h2>1. How many hours do you spend on your phone daily?</h2>
      <label><input type="radio" name="q1" value="1"> 0-2</label>
      <label><input type="radio" name="q1" value="2"> 3-5</label>
      <label><input type="radio" name="q1" value="3"> 6+</label>
    </div>
    <div class="quiz-card">
      <h2>2. How often do you check notifications?</h2>
      <label><input type="radio" name="q2" value="1"> Rarely</label>
      <label><input type="radio" name="q2" value="2"> Sometimes</label>
      <label><input type="radio" name="q2" value="3"> Often</label>
    </div>
    <div class="quiz-card">
      <h2>3. How often do you use your phone right before sleeping?</h2>
      <label><input type="radio" name="q3" value="1"> Rarely</label>
      <label><input type="radio" name="q3" value="2"> Sometimes</label>
      <label><input type="radio" name="q3" value="3"> Often</label>
    </div>
    <div class="quiz-card">
  <h2>4. Do you feel anxious if you canâ€™t check your phone?</h2>
  <label><input type="radio" name="q4" value="1"> Not at all</label>
  <label><input type="radio" name="q4" value="2"> Sometimes</label>
  <label><input type="radio" name="q4" value="3"> Very often</label>
</div>
    <div class="quiz-card">
  <h2>5. How often do you use your phone during meals or conversations?</h2>
  <label><input type="radio" name="q5" value="1"> Rarely</label>
  <label><input type="radio" name="q5" value="2"> Sometimes</label>
  <label><input type="radio" name="q5" value="3"> Often</label>
</div>
<div class="quiz-card">
  <h2>6. How often do you check social media without meaning to?</h2>
  <label><input type="radio" name="q6" value="1"> Rarely</label>
  <label><input type="radio" name="q6" value="2"> Sometimes</label>
  <label><input type="radio" name="q6" value="3"> Very often</label>
</div>
<div class="quiz-card">
  <h2>7. Do you take breaks from your phone during the day?</h2>
  <label><input type="radio" name="q7" value="1"> Yes, regularly</label>
  <label><input type="radio" name="q7" value="2"> Occasionally</label>
  <label><input type="radio" name="q7" value="3"> Rarely</label>
</div>

    <button class="submit-btn" id="submit-quiz">Submit</button>
    <div class="result-box" id="result-box"></div>
  </div>

  <nav class="side-menu" id="side-menu">
  <a href="{{ url_for('aboutapp') }}">About the App</a>
  <a href="{{ url_for('quiz') }}">Self Assessment Quiz</a>
  <a href="#" id="logout-link">Logout</a>
</nav>


  <nav class="bottom-nav">
    <a href="{{ url_for('homepage') }}" class="nav-item"><img src="{{ url_for('static', filename='images/home.png') }}" class="nav-icon"><p>Home</p></a>
    <a href="{{ url_for('tip') }}" class="nav-item"><img src="{{ url_for('static', filename='images/tip.png') }}" class="nav-icon"><p>Tips</p></a>
    <a href="{{ url_for('login') }}" class="nav-item"><img src="{{ url_for('static', filename='images/profile.png') }}" class="nav-icon"><p>Profile</p></a>
  </nav>

<script>
const checkbox=document.getElementById("checkbox");
checkbox.addEventListener("change",()=>{document.body.classList.toggle("dark");});

const hamburger=document.getElementById("hamburger");
const sideMenu=document.getElementById("side-menu");
hamburger.addEventListener("click",e=>{sideMenu.classList.toggle("open");e.stopPropagation();});
sideMenu.querySelectorAll('a').forEach(link=>{link.addEventListener('click',()=>{sideMenu.classList.remove('open');});});
document.addEventListener('click',e=>{if(!sideMenu.contains(e.target)&&!hamburger.contains(e.target)){sideMenu.classList.remove('open');}});

document.getElementById('logout-link').addEventListener('click',()=>{
  window.location.href="{{ url_for('logout') }}";
});
document.getElementById('submit-quiz').addEventListener('click',()=>{
  let score = 0;
  const answers = ['q1','q2','q3','q4','q5','q6','q7'];
  const totalQuestions = answers.length;

  answers.forEach(q=>{
    const val = document.querySelector(`input[name="${q}"]:checked`);
    if(val) score += parseInt(val.value);
  });

  const maxScore = totalQuestions * 3; //the max points is 3 per qeustion 
  const percent = Math.round((score / maxScore) * 100); //  percentage


  // givesthem feedback based on the percentages 
  let feedback;
  if(percent <= 45){
    feedback = `Hi, your phone usage is low (${percent}%). Keep up the great job!`;
  } else if(percent <= 65){
    feedback = `Hi, your phone usage is moderate (${percent}%). Try to reduce it a bit. You can do it !`;
  } else{
    feedback = `Hi, your phone usage is high (${percent}%). Consider taking breaks and You can have a look at the tips page and consider following such stratergies ! Good Luck !`;
  }

  document.getElementById('result-box').textContent = feedback;
});
</script>
</body>
</html>
